<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Voodoo Shader Framework: Quality (Code and Testing)</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="voodoo.css" rel="stylesheet" type="text/css" />



</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  <td id="projectlogo"><img alt="Logo" src="voodoo-banner.png"/></td>
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">Voodoo Shader Framework
   &#160;<span id="projectnumber">framework-4.2-42-g5a07080</span>
   </div>
   <div id="projectbrief">Comprehensive shader support library</div>
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.5.1 -->
<script type="text/javascript" src="dynsections.js"></script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="headertitle">
<div class="title">Quality (Code and Testing) </div>  </div>
</div>
<div class="contents">
<div class="textblock"><p>The Voodoo Shader Framework is designed to work across many games, created across a wide variety of compilers, with numerous graphics libraries, code styles and time periods.</p>
<p>To maximize stability and speed, both critical to Voodoo's purpose, all Voodoo projects must meet extremely strict code quality and testing requirements. These are designed to eradicate bugs within Voodoo itself and provide the best user and developer experience possible, especially considering the high degree of complexity within Voodoo and wide scope.</p>
<p>Third-party code that is used in Voodoo, or adapters that are not part of the official project, do not need to use these rules, but they can rely on Voodoo to follow them. Any bugs, potential bugs, performance bottlenecks, possible points of improvement or generally questionable code encountered in Voodoo should be reported as soon as possible. Please file an issue with as much information as possible in the Voodoo bug tracker.</p>
<h2><a class="anchor" id="voodoo_quality_code"></a>
Code Quality</h2>
<p>To maintain high quality code within Voodoo, a number of systems are used.</p>
<p>The simplest, and often most important, is proper use of compiler messages. The framework is compiled with level 4 warnings enabled (the strictest standard level, significantly higher than the default) and warnings-as-errors enabled. These measures guarantee the code has no defects the compiler can locate and conforms to all best-practices the compiler is aware of.</p>
<p>The second measure, used to discover more complex issues, is full PREfast analysis. All Voodoo framework code is fully annotated with SAL and is submitted to the static analyzer during compilation. Again, any warnings are treated as fatal errors and all rules are enabled. PREfast is capable of catching a number of common errors and using SAL to locate differences between expected and actual behavior.</p>
<p>In addition to analysis with PREfast, Voodoo framework code is also run through CppCheck for general errors and KWStyle for style evaluation.</p>
<p>All Voodoo framework code has passed both the compiler and PREfast's analysis before release and builds with no warnings from either.</p>
<h2><a class="anchor" id="voodoo_quality_testing"></a>
Testing</h2>
<p>To verify the results of the code quality requirements, all Voodoo framework code is run through an extensive set of unit tests and test scenarios and detailed metrics collected. These methods are heavily inspired by the SQLite project and their excellent testing.</p>
<p>Unit tests are used to check specific behaviors or code segments, often a single function or object. These use a number of methods to make sure the code behaves as expected, especially providing known-incorrect parameters or data and verifying the error is caught.</p>
<p>A more involved test harness is used to run full-scenario tests, where the framework is actually used to apply an effect to a real graphics context, and the results tested. These provide a larger picture, making sure all components work together well.</p>
<p>Before running tests, all code is instrumented to provide various pieces of information. The most useful of these is code coverage: what source code has been used in the tests. This is typically measured in two ways: statement coverage and branch coverage. Statement coverage tests that each statement has been run, but does not test all possible outcomes. This means each line of code has probably been run, but offers no guarantees as to actual code used. Branch coverage tests every possible branch of every statement, providing much more complete coverage. Voodoo strives for 100% branch coverage from unit tests and additional coverage of relevant code from scenario tests. This means, simply, that all code is tested in theory and in use before actual in-game testing begins.</p>
<h2><a class="anchor" id="voodoo_quality_docs"></a>
Documentation</h2>
<p>The final quality requirement is comprehensive documentation. Voodoo provides a significant amount of documentation, covering everything from technical details of interfaces to expected behavior to graphics theory to quality requirements. This documentation is generated with the doxygen tool and provided in a number of formats, notably on the web at the Github project pages.</p>
<p>To make sure documentation is sufficiently complete, the framework must produce no errors or warnings from code during doxygen generation. This performs basic checks, such as requiring every object and function be documented with details for each parameter. </p>
</div></div>


<hr class="footer"/><address class="footer"><small>
Generated on Thu Nov 17 2011 02:37:28 for Voodoo Shader Framework by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.5.1
</small></address>

</body>
</html>
