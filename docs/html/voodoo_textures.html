<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Voodoo Shader Framework: Textures</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="voodoo.css" rel="stylesheet" type="text/css" />



</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  <td id="projectlogo"><img alt="Logo" src="voodoo.png"/></td>
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">Voodoo Shader Framework
   &#160;<span id="projectnumber">0.4.1.288</span>
   </div>
   <div id="projectbrief">Comprehensive shader support library</div>
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.5.1 -->
<script type="text/javascript" src="dynsections.js"></script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="headertitle">
<div class="title">Textures </div>  </div>
</div>
<div class="contents">
<div class="textblock"><p>The shaders used in Voodoo are capable of accessing a number of texture types, and Voodoo is able to load a wide variety of texture formats.</p>
<p>This provides a very powerful system and allows you to use a great variety of textures.</p>
<h2><a class="anchor" id="voodoo_textures_types"></a>
Texture Types</h2>
<p>Three basic texture types are supported in Voodoo: </p>
<ul>
<li>1-dimensional texture rows (a simple row of pixels, 1 by x) </li>
<li>2-dimensional texture planes (the most common type, a rectangle of pixels, x by y) </li>
<li>3-dimensional texture volumes (effectively a number of 2D textures stacked in slices, x by y by z)</li>
</ul>
<p>Any of these types may also contain mipmaps, which theoretically add another dimension but are not considered as such.</p>
<p>A different sampler type is provided for each texture type (<code>sampler1D</code>, <code>sampler2D</code>, and <code>sampler3D</code>), each optimized to sample pixels from a particular texture type. Various sampling instructions are provided, varying in how they sample from the texture and what sampler type they use (2d, 3d, mipmap bias, etc). Samplers require texture coordinates when used, and each type of texture requires one coordinate per dimension. Some texture sampling instructions can perform additional filtering or draw from specific mipmaps and may need more coordinates.</p>
<h2><a class="anchor" id="voodoo_textures_formats"></a>
Texture Formats</h2>
<p>Voodoo supports a decent sampling of internal texture formats. These formats specify how much data a texture holds and how it is stored. There are some limitations and some potentially useful formats are not yet supported, due to the differences between DirectX and OpenGL, but many common formats are available. All the listed formats are usable as a 2D texture, and with the exception of the depth formats, should be usable as 1D or 3D textures as well. For most of these formats, DirectX and OpenGL equivalents are indicated below, along with a notation indicating if the texture may be used as a render target or copied to and from. Textures are always delivered to shaders as floats through sampling functions. This may cause some confusion as to how texture data is stored; the data is <em>not</em> usually stored as a float, but instead an integer using the number of bits given below. Textures that are not stored in floating-point formats are typically clamped to range (0-1) in hardware. Shaders may output higher or lower values, but they will usually be clamped. If you need to store values outside of that range, use one of the formats suffixed with 'F' to store the data as floats (single and double texture formats are available).</p>
<table class="doxtable">
<tr>
<th>Voodoo Format </th><th>DirectX Format </th><th>OpenGL Format </th><th>RT/Copy/Load<sup>4</sup> </th><th>Bits </th><th>Channels </th></tr>
<tr>
<td><a class="el" href="namespace_voodoo_shader.html#ac41ef674639cfb37461c1426a0d7669fa85e13c0e05a10536b5ca3d32bfbf134d">TF_Unknown</a> </td><td>D3DFMT_UNKNOWN </td><td>(unknown) </td><td>None </td></tr>
<tr>
<td><a class="el" href="namespace_voodoo_shader.html#ac41ef674639cfb37461c1426a0d7669fa5505137ff9248cb5c7fdd951a65e4b4c">TF_RGB5</a> </td><td>D3DFMT_X1R5G5B5 </td><td>GL_RGB5 </td><td>Y/Y/N </td><td>15/16 </td><td>RGB </td></tr>
<tr>
<td><a class="el" href="namespace_voodoo_shader.html#ac41ef674639cfb37461c1426a0d7669faae82e0f94f4f50a0e3ff770eb1888ce5">TF_RGB5A1</a> </td><td>D3DFMT_A1R5G5B5 </td><td>GL_RGB5_A1 </td><td>Y/Y/N </td><td>16 </td><td>RGBA </td></tr>
<tr>
<td><a class="el" href="namespace_voodoo_shader.html#ac41ef674639cfb37461c1426a0d7669fac1b6e1b557d9e1dbcc89eccaee9f5202">TF_RGB8</a> </td><td>D3DFMT_X8R8G8B8 </td><td>GL_RGB8 </td><td>Yes </td><td>24 </td><td>RGB </td></tr>
<tr>
<td><a class="el" href="namespace_voodoo_shader.html#ac41ef674639cfb37461c1426a0d7669fa92dc956ba9db9012612e53baf3a341a5">TF_RGBA8</a> </td><td>D3DFMT_A8R8G8B8 </td><td>GL_RGBA8 </td><td>Yes </td><td>32 </td><td>RGBA </td></tr>
<tr>
<td><a class="el" href="namespace_voodoo_shader.html#ac41ef674639cfb37461c1426a0d7669fac7d1cb69e646a88e40f9485bd78c41d5">TF_RGB10A2</a> </td><td>D3DFMT_A2R10G10B10 </td><td>GL_RGB10_A2 </td><td>Y/Y/N </td><td>32 </td><td>RGBA </td></tr>
<tr>
<td><a class="el" href="namespace_voodoo_shader.html#ac41ef674639cfb37461c1426a0d7669faaee75e702ccb0eccdfe2a6bc2a144f80">TF_RGBA16F</a><sup>1</sup></td><td>D3DFMT_A16B16G16R16F </td><td>GL_RGBA16F </td><td>N/Y/Y </td><td>64 </td><td>RGBA </td></tr>
<tr>
<td><a class="el" href="namespace_voodoo_shader.html#ac41ef674639cfb37461c1426a0d7669fa4b7fc08dfa228fc2a361188e1dba25b7">TF_RGBA32F</a><sup>1</sup></td><td>D3DFMT_A32B32G32R32F </td><td>GL_RGBA32F </td><td>N/Y/Y </td><td>128 </td><td>RGBA </td></tr>
<tr>
<td><a class="el" href="namespace_voodoo_shader.html#ac41ef674639cfb37461c1426a0d7669fa148285a8681d68a12b15a6e60c192220">TF_D16</a> </td><td>D3DFMT_D16F </td><td>GL_DEPTH_COMPONENT16 </td><td>N/Y-ish<sup>2</sup>/N </td><td>16 </td><td>R<sup>3</sup> </td></tr>
<tr>
<td><a class="el" href="namespace_voodoo_shader.html#ac41ef674639cfb37461c1426a0d7669fad0414e285b3c5b13e7cb082bb02a127e">TF_D32</a> </td><td>D3DFMT_D32F </td><td>GL_DEPTH_COMPONENT32 </td><td>N/Y-ish<sup>2</sup>/N </td><td>32 </td><td>R<sup>3</sup> </td></tr>
</table>
<p><br/>
 <em><sup>1</sup>:</em> floating-point texture formats (<a class="el" href="namespace_voodoo_shader.html#ac41ef674639cfb37461c1426a0d7669faaee75e702ccb0eccdfe2a6bc2a144f80">TF_RGBA16F</a> and <a class="el" href="namespace_voodoo_shader.html#ac41ef674639cfb37461c1426a0d7669fa4b7fc08dfa228fc2a361188e1dba25b7">TF_RGBA32F</a>) may not be supported on all hardware. Any features requiring these formats should provide an alternate render path for old hardware (quality may suffer). <br/>
 <em><sup>2</sup>:</em> Depth textures suffer additional restrictions when used with the DirectX 9 API. See the <a class="el" href="voodoo_textures.html#voodoo_textures_depth">depth buffers</a> section for more information. <br/>
 <em><sup>3</sup>:</em> Depth textures do not map to components in all APIs. The most likely mapping is given, but access is not guaranteed. <br/>
 <em><sup>4</sup>:</em> Texture loading is restricted by the file system library. The values given apply only to Voodoo/Filesystem, which uses DevIL. Only 8, 16 and 32 bpc formats can be copied into by IImage::CopyImageData(); DevIL lacks the values to describe packed formats and depth formats are not yet fully supported in the file system module. The supported formats are more widely supported in other areas of Voodoo, so it is highly recommended you favor these whenever possible. It <em>is</em>, however, possible to load images that are in other formats and convert them.</p>
<h2><a class="anchor" id="voodoo_textures_depth"></a>
Depth Buffers</h2>
<p>For an adapter to be considered fully Voodoo compatible, it must supply realtime depth data to a shader-readable texture. How this is performed is left to the discretion of the adapter, as it varies greatly between old D3D versions and OpenGL or newer D3D. This data should be stored such that greater distances are represented by higher values and the distance should be (if possible) not normalized (not bounded by <code></code>(0-1)). When possible, it is recommended that the depth information be stored in a 32-bit floating point component. Depth data must be accessible to shaders from the R channel of the depth texture. At this time, the GBA components of the texture are considered undefined, but reserved for future use. Depending on implementation, they may contain depth data, uninitialized memory, or other data. They should not be used. As DirectX 9 does not usually allow <a class="el" href="namespace_voodoo_shader.html#ac41ef674639cfb37461c1426a0d7669fad0414e285b3c5b13e7cb082bb02a127e">TF_D32</a> textures to be read, this may require rendering to a second target and using a <a class="el" href="namespace_voodoo_shader.html#ac41ef674639cfb37461c1426a0d7669fa4b7fc08dfa228fc2a361188e1dba25b7">TF_RGBA32F</a> texture. Two-pass or two-target rendering can both meet this requirement neatly. Using two passes is slower but more compatible, so this should be made an option if possible.</p>
<h2><a class="anchor" id="voodoo_textures_loading"></a>
Texture Loading</h2>
<p>Texture loading is implemented through an <a class="el" href="class_voodoo_shader_1_1_i_adapter.html" title="Graphics adapter class, responsible for interfacing the Voodoo core with a given graphics API...">IAdapter</a> callback, so Voodoo textures can be created with a variety of options or using any number of functions. To simplify getting texture data into memory in the first place, the Voodoo filesystem library includes specialized <a class="el" href="class_voodoo_shader_1_1_i_image.html">IImage</a> classes. These use DevIL as the loading library, so support a ridiculous number of formats. Among the most useful formats are DDS, PNG and TGA, all supporting high resolutions and transparency. Other formats may not be as suitable; JPEG and BMP for example are very lossy and large, respectively.</p>
<h2><a class="anchor" id="voodoo_textures_fileformats"></a>
Supported File Formats</h2>
<p>Below is provided a full list of the file formats Voodoo/Filesystem is capable of loading and saving (via DevIL). This list is taken from the DevIL documentation.</p>
<table class="doxtable">
<tr>
<th>Format</th><th>Extension</th><th>Load</th><th>Save<sup>4</sup> </th></tr>
<tr>
<td>Windows Bitmap<sup>2</sup></td><td>bmp</td><td>Yes</td><td>Yes </td></tr>
<tr>
<td>Dr. Halo</td><td>cut</td><td>Yes </td></tr>
<tr>
<td>Multi-PCX</td><td>dcx</td><td>Yes </td></tr>
<tr>
<td>Dicom</td><td>dcm</td><td>Yes </td></tr>
<tr>
<td>DirectDraw Surface<sup>3</sup></td><td>dds</td><td>Yes</td><td>Yes </td></tr>
<tr>
<td>OpenEXR</td><td>ext</td><td>Yes</td><td>Yes </td></tr>
<tr>
<td>Flexible Image Transport System</td><td>fits, fit</td><td>Yes </td></tr>
<tr>
<td>Heavy Metal: FAKK 2</td><td>ftx</td><td>Yes </td></tr>
<tr>
<td>C-style Header<sup>2</sup></td><td>h</td><td></td><td>Yes </td></tr>
<tr>
<td>Radiance High Dynamic</td><td>hdr</td><td>Yes</td><td>Yes </td></tr>
<tr>
<td>Macintosh Icon</td><td>icns</td><td>Yes </td></tr>
<tr>
<td>Windows icon/cursor</td><td>ico, cur</td><td>Yes<sup>1</sup> </td></tr>
<tr>
<td>Interchange FileFormat</td><td>iff</td><td>Yes </td></tr>
<tr>
<td>Infinity Ward Image</td><td>iwi</td><td>Yes </td></tr>
<tr>
<td>Graphics Interchange Format</td><td>gif</td><td>Yes<sup>1</sup> </td></tr>
<tr>
<td>JPEG</td><td>jpg, jpe, jpeg</td><td>Yes<sup>2</sup></td><td>Yes </td></tr>
<tr>
<td>JPEG 2000</td><td>jp2</td><td>Yes<sup>2</sup></td><td>Yes </td></tr>
<tr>
<td>Interlaced Bitmap</td><td>lbm</td><td>Yes </td></tr>
<tr>
<td>Homeworld Texture</td><td>lif</td><td>Yes </td></tr>
<tr>
<td>Half-Life Model</td><td>mdl</td><td>Yes </td></tr>
<tr>
<td>MPEG-1 Audio Layer 3</td><td>mp3</td><td>Yes </td></tr>
<tr>
<td>Palette</td><td>pal</td><td>Yes</td><td>Yes </td></tr>
<tr>
<td>Kodak PhotoCD</td><td>pcd</td><td>Yes </td></tr>
<tr>
<td>ZSoft PCX</td><td>pcx</td><td>Yes</td><td>Yes </td></tr>
<tr>
<td>Softimage PIC</td><td>pic</td><td>Yes </td></tr>
<tr>
<td>Portable Network Graphics<sup>3</sup></td><td>png</td><td>Yes</td><td>Yes </td></tr>
<tr>
<td>Portable Anymap</td><td>pbm, pgm, pnm</td><td>Yes</td><td>Yes </td></tr>
<tr>
<td>Alias | Wavefront</td><td>pix</td><td>Yes </td></tr>
<tr>
<td>Adobe Photoshop</td><td>psd</td><td>Yes</td><td>Yes </td></tr>
<tr>
<td>Paintshop Pro</td><td>psp</td><td>Yes </td></tr>
<tr>
<td>Pixar</td><td>pxr</td><td>Yes </td></tr>
<tr>
<td>Raw Data</td><td>raw</td><td>Yes</td><td>Yes </td></tr>
<tr>
<td>Homeworld 2 Texture</td><td>rot</td><td>Yes </td></tr>
<tr>
<td>Silicon Graphics</td><td>sgi, bw, rgb, rgba</td><td>Yes</td><td>Yes </td></tr>
<tr>
<td>Creative Assembly Texture</td><td>texture</td><td>Yes </td></tr>
<tr>
<td>Truevision Targa</td><td>tga</td><td>Yes</td><td>Yes </td></tr>
<tr>
<td>Tagged Image Format</td><td>tif</td><td>Yes</td><td>Yes </td></tr>
<tr>
<td>Gamecube Texture</td><td>tpl</td><td>Yes </td></tr>
<tr>
<td>Unreal Texture</td><td>utx</td><td>Yes </td></tr>
<tr>
<td>Quake 2 Texture</td><td>wal</td><td>Yes </td></tr>
<tr>
<td>Valve Texture Format</td><td>vtf</td><td>Yes</td><td>Yes </td></tr>
<tr>
<td>HD Photo</td><td>wdp, hdp</td><td>Yes </td></tr>
<tr>
<td>X Pixel Map</td><td>xpm</td><td>Yes </td></tr>
<tr>
<td>Doom Graphics</td><td></td><td>Yes </td></tr>
</table>
<p><br/>
 <em><sup>1</sup>:</em> These formats support animated textures, but animations are not supported within Voodoo. Only the first frame will be used. <br/>
 <em><sup>2</sup>:</em> These formats are not recommended for use, due to poor quality or capabilities. <br/>
 <em><sup>3</sup>:</em> These formats are recommended for use and support most or all of the features Voodoo uses. <br/>
 <em><sup>4</sup>:</em> <a class="el" href="group__voodoo__module__wfilesystem.html">Voodoo/WFileSystem @{</a> does not yet support saving images. Support for these formats is provided directly by DevIL, including the ability to convert most internal formats.</p>
<p>Questions regarding formats and support, as they apply to DevIL, should be directed to the developer of this fine library. Questions regarding Voodoo's support or use of DevIL, or that of any Voodoo module, should be directed to Voodoo or module developer(s). Some of these formats (GIF, for example) do not correspond to any internal Voodoo formats. To use images in these formats, you should load the image, then call IImage::CopyImageData() and provide the desired format. DevIL will handle conversion internally. This may be slow and so should not be used often, but provides a way to load almost any format into Voodoo. The above list of formats is quite large, and some formats are obscure or not well suited for use with Voodoo. However, DevIL supports them and there is no reason to add artificial limitations to Voodoo when it takes less work to provide a more flexible structure. Thus, these formats are all supported and may be used as desired. Some of the more unusual formats may have some innate restrictions or lose data during conversion to Voodoo-supported formats, so take care to properly test any image resources you use. </p>
</div></div>


<hr class="footer"/><address class="footer"><small>
Generated on Wed Nov 2 2011 15:10:54 for Voodoo Shader Framework by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.5.1
</small></address>

</body>
</html>
